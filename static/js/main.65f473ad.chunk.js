(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{239:function(e,n,t){e.exports=t(533)},310:function(e,n){},312:function(e,n){},337:function(e,n){},380:function(e,n){},533:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(228),o=t(24),i=t(29),s=t(34),l=t(36),u=t(35),m=t(37),d=t(17),f=t(30),b=t(236),p=t(536),h=t(535),g=t(105),E=t(4),x=t(23),O=Object(E.b)("div")({display:"flex",justifyContent:"space-between",width:"100%"}),v=Object(E.b)("h1")({fontFamily:"Montserrat, sans-serif",fontSize:"1.6rem",margin:0,textTransform:"uppercase"}),w=Object(E.b)("h2")({color:"rgb(84, 84, 86)",fontFamily:"Montserrat, sans-serif",fontSize:"1.4rem",fontWeight:"normal",margin:"0 0 .25rem 0"}),j=Object(E.b)("h3")({color:"rgb(84, 84, 86)",fontFamily:"Montserrat, sans-serif",fontSize:"1.05rem",fontWeight:"normal",margin:0}),y=Object(E.b)("button")({border:0,borderRadius:".2rem",cursor:"pointer",fontSize:".9rem",margin:".25rem 0",outline:0,padding:".8rem 2rem",width:"100%"}),k=Object(E.b)("div")({display:"flex",flexFlow:"column nowrap",width:"100%"}),S=t(534),C=Object(E.b)(S.a)({alignSelf:"center",marginLeft:"1rem"}),T=Object(E.b)("img")({height:"1.5rem",width:"1.5rem"}),_=function(){return a.a.createElement(C,{to:"/"},a.a.createElement(T,{src:"/x-mark-thin.svg"}))},N=Object(E.b)("div")({alignItems:"center",justifyContent:"center",textAlign:"center"}),A=Object(E.b)("div")({backgroundColor:"rgb(204, 204, 204)",height:"1px",margin:"1rem 0",width:"100%"}),R=Object(E.b)(S.a)({display:"block",textDecoration:"none",width:"100%"}),D=Object(E.b)(y)({":hover":{background:"rgb(13, 137, 180)"},background:"rgb(16, 173, 228)",color:"#fff",transition:".2s ease-in-out all"}),I=Object(E.b)(y)({":hover":{background:"rgb(230, 247, 253)"},background:"transparent",border:"1px solid rgb(0,74,124)",color:"rgb(84, 84, 86)",transition:".2s ease-in-out all"}),z=Object(E.b)("input")({"::placeholder":{color:"#93a7b3"},background:"rgb(255, 255, 255)",border:"1px solid rgb(204, 204, 204)",boxSizing:"border-box",color:"rgb(84, 84, 86)",fontSize:".9rem",margin:".25rem 0",outline:"none",padding:".75rem 1rem",width:"100%"}),F=(Object(E.b)("select")({background:"#fff",border:"1px solid rgb(204, 204, 204)",boxSizing:"border-box",display:"block",height:"2.5rem",outline:0,padding:".5rem",width:"100%"}),Object(E.b)("strong")({display:"block",width:"100%"})),L=Object(E.b)("strong")({position:"relative"}),W=Object(E.b)("span")({color:"rgb(117, 118, 121)",padding:"1rem",position:"absolute",right:0}),U=function(e){var n=e.label,t=e.children;return a.a.createElement(L,null,t,a.a.createElement(W,null,n))},P=Object(E.b)("textarea")({background:"rgb(255, 255, 255)",border:"1px solid rgb(204, 204, 204)",boxSizing:"border-box",color:"rgb(84, 84, 86)",fontSize:".9rem",margin:".25rem 0",outline:"none",padding:".75rem 1rem",width:"100%"}),H=t(232),M=t.n(H),J=t(233),X=t.n(J),Q=function(e){var n=e.title,t=e.value,a=e.onScan,c=e.onError,o=e.readonly,i=c||function(e){return console.error(e)};return r.createElement(r.Fragment,null,r.createElement(O,null,r.createElement(k,null,r.createElement(w,null,n),r.createElement(j,null,"Follow these steps to sign your transaction using your mobile device")),r.createElement(_,null)),r.createElement(A,null),r.createElement(O,null,r.createElement(k,{style:{width:"50%"}},r.createElement(N,null,r.createElement(w,null,"Scan QR Code")),r.createElement(N,{style:{display:"flex"}},r.createElement(X.a,{value:t,renderAs:"svg"}))),!o&&r.createElement(k,{style:{width:"50%"}},r.createElement(N,null,r.createElement(w,null,"Show QR Code")),r.createElement(N,{style:{display:"flex"}},r.createElement(M.a,{delay:300,onScan:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return e&&a(e)}),onError:function(e){return i(e)},style:{width:"30vh"}})))))};function G(){var e=Object(x.a)(["\n            color: #f2494d;\n            font-size: 0.8rem;\n            text-transform: lowercase;\n            vertical-align: super;\n          "]);return G=function(){return e},e}function q(){var e=Object(x.a)(["\n  color: #fff;\n  padding: 1rem;\n"]);return q=function(){return e},e}var B=Object(E.b)("header")({background:"rgb(0, 74, 124)",gridArea:"header",height:"4rem"}),$=Object(E.b)(v)(q()),Y=function(e){var n=e.to;return a.a.createElement(B,null,a.a.createElement(R,{to:n},a.a.createElement($,null,"Cold Crypto",a.a.createElement("sup",{className:Object(E.a)(G())},"beta mode"))))},V=Object(E.b)("div")({background:"rgb(0, 74, 124)",minHeight:"100vh"}),K=Object(E.b)("main")({alignItems:"center",display:"flex",justifyContent:"center",minHeight:"calc(100vh - 4rem)"}),Z=Object(E.b)("div")({background:"#fff",maxWidth:"50rem",minWidth:"30rem",padding:"2rem"}),ee=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.props,n=e.component,t=Object(g.a)(e,["component"]);return a.a.createElement(h.a,Object.assign({},t,{render:function(e){return a.a.createElement(V,null,a.a.createElement(Y,{to:"/"}),a.a.createElement(K,null,a.a.createElement(Z,null,a.a.createElement(n,e))))}}))}}]),n}(a.a.Component),ne=Object(E.b)("aside")({background:"rgb(245, 247, 249)",borderRight:"1px solid rgb(234, 234, 234)",gridArea:"sidebar"}),te=[{id:"wallets",title:"Wallets"}],re=Object(E.b)(R)(function(e){var n=e.selected;return{borderLeft:"4px solid ".concat(n?"rgb(53, 88, 168)":"transparent"),color:n?"rgb(53, 88, 168)":"rgb(84, 84, 86)",fontWeight:n?"bold":"normal",padding:".75rem 1.5rem"}}),ae=Object(E.b)("menu")({padding:".5rem 0"}),ce=function(){return a.a.createElement(ae,null,te.map(function(e){var n=e.id,t=e.title;return a.a.createElement(re,{to:"/".concat(n),key:n,selected:!0},t)}))},oe=function(){return a.a.createElement(ne,null,a.a.createElement(ce,null))},ie=Object(E.b)("div")({background:"#fff",display:"grid",gridTemplateAreas:'\n      "header header header header"\n      "sidebar main main main"\n    ',gridTemplateColumns:"16rem auto auto auto",gridTemplateRows:"4rem auto",minHeight:"100vh"}),se=Object(E.b)("main")({display:"flex",gridArea:"main",justifyContent:"center",minHeight:"calc(100vh - 4rem)",padding:"2rem"}),le=function(e){var n=e.children;return a.a.createElement(ie,null,a.a.createElement(Y,{to:"/"}),a.a.createElement(se,null,n),a.a.createElement(oe,null))},ue=Object(E.b)("header")({alignItems:"center",background:"rgba(0, 0, 0, 0.5)",display:"flex",height:"100vh",justifyContent:"center",left:0,position:"fixed",top:0,width:"100vw"}),me=Object(E.b)("main")({background:"#fff",borderRadius:".25rem",boxShadow:"rgba(0, 0, 0, 0.5) 0px .25rem 1.5rem",maxHeight:"95vh",maxWidth:"95vw",minHeight:"50vh",minWidth:"60vw"}),de=Object(E.b)("div")({boxSizing:"border-box",padding:"2rem"}),fe=function(e){var n=e.component,t=Object(g.a)(e,["component"]);return a.a.createElement(h.a,Object.assign({},t,{render:function(e){return a.a.createElement(ue,{onClick:e.history.goBack},a.a.createElement(me,{onClick:function(e){return e.stopPropagation()}},a.a.createElement(de,null,a.a.createElement(n,e))))}}))},be=t(3),pe=t.n(be),he=t(15),ge=t(11),Ee=t(66),xe=t.n(Ee),Oe=t(104),ve=t.n(Oe);function we(e){return je.apply(this,arguments)}function je(){return(je=Object(ge.a)(pe.a.mark(function e(n){var t,r,a,c,o,i;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=ve()({httpEndpoint:"http://jungle2.cryptolions.io:80",chainId:n}),e.next=3,t.getInfo({});case 3:return r=e.sent,3600,a=new Date(r.head_block_time+"Z"),c=new Date(a.getTime()+36e5).toISOString().split(".")[0],e.next=9,t.getBlock(r.last_irreversible_block_num);case 9:return o=e.sent,i={expiration:c,ref_block_num:65535&r.last_irreversible_block_num,ref_block_prefix:o.ref_block_prefix},e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ye,ke=function(){return"getWalletList|2|".concat(JSON.stringify({blockchains:["eth","eos"]}))},Se=function(){var e=Object(ge.a)(pe.a.mark(function e(n,t){var r,a;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("eth"===t.blockchain&&(r={gasPrice:xe.a.utils.toWei(n.gasPrice.toString(),"gwei"),nonce:t.nonce,to:n.to,value:xe.a.utils.toWei(n.amount.toString())}),"eos"!==t.blockchain){e.next=6;break}return e.next=4,we(t.chainId);case 4:a=e.sent,r={method:"transfer(from:name,to:name,quantity:asset,memo:string)",transaction:Object(he.a)({},a,{actions:[{name:"transfer",account:"eosio.token",authorization:[{actor:t.address,permission:"active"}],data:{to:n.to,from:t.address,quantity:"".concat((+n.amount).toFixed(4)," EOS"),memo:""}}]})};case 6:return e.abrupt("return","signTransferTx|3|".concat(JSON.stringify({wallet:t,tx:r})));case 7:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),Ce=t(16);!function(e){e.SEND_TX="@@transport/SEND_TX",e.LOGIN="@@transport/LOGIN",e.SIGN_TX="@@transport/SIGNTX",e.CREATE_TX="@@transport/CREATETX",e.SET_RTC_SID="@@transport/SET_RTC_SID"}(ye||(ye={}));var Te=function(e){return Object(Ce.action)(ye.CREATE_TX,e)},_e=function(e,n){return Object(Ce.action)(ye.SEND_TX,{tx:e,wallet:n})},Ne=function(e){return Object(Ce.action)(ye.LOGIN,e)},Ae=function(e){return Object(Ce.action)(ye.SET_RTC_SID,e)},Re=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.props,n=e.search,t=e.scanLoginData,a=e.qrcodeData,c="true"===new URLSearchParams(n).get("rtc"),o=c?a:ke();return r.createElement(r.Fragment,null,r.createElement(Q,{title:"Mobile Login",value:o,onScan:t,readonly:c}))}}]),n}(r.Component),De=Object(d.connect)(function(e){var n=e.router,t=e.transport;return{search:n.location.search,qrcodeData:t.qrcodeData}},function(e){return{scanLoginData:function(n){return e(Ne(n))}}})(Re),Ie=function(){return r.createElement(r.Fragment,null,r.createElement(w,null,"Welcome Back!"),r.createElement(j,null,"Sign in to your wallet below"),r.createElement(A,null),r.createElement(O,null,r.createElement(k,{style:{width:"50%",display:"flex",justifyContent:"center",paddingRight:"1rem"}},r.createElement(O,null,r.createElement(R,{to:"/login"},r.createElement(D,null,"Login using QR code"))),r.createElement(O,null,r.createElement(R,{to:"/login?rtc=true"},r.createElement(I,null,"Webrtc login")))),r.createElement(k,{style:{width:"50%"}},r.createElement(O,null,r.createElement(z,{type:"text",placeholder:"Type your wallet address here"}),r.createElement(ze,{flipToRight:!0},r.createElement("option",{value:"eth",key:"eth"},"'eth"))),r.createElement(O,null,r.createElement(I,null,"Login with address")))))},ze=Object(E.b)("select")(function(e){return{":after":{border:"solid white",borderWidth:"0 3px 3px 0",content:'""',position:"absolute"},appearance:"none",background:"#457b9d",border:0,borderRadius:e.flipToRight?"0 .2rem .2rem 0":".2rem",color:"#f1faee",padding:"0 1rem",boxSizing:"border-box",position:"relative",margin:".25rem 0"}});function Fe(){var e=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 200px;\n"]);return Fe=function(){return e},e}function Le(){var e=Object(x.a)(["\n  margin: 100px auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n  & .cube1,\n  & .cube2 {\n    background-color: black;\n    width: 15px;\n    height: 15px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    -webkit-animation: "," 1.8s infinite ease-in-out;\n    animation: "," 1.8s infinite ease-in-out;\n  }\n  & .cube2 {\n    -webkit-animation-delay: -0.9s;\n    animation-delay: -0.9s;\n  }\n"]);return Le=function(){return e},e}function We(){var e=Object(x.a)(["\n  25% {\n    transform: translateX(42px) rotate(-90deg) scale(0.5);\n    -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5);\n  } 50% {\n    transform: translateX(42px) translateY(42px) rotate(-179deg);\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg);\n  } 50.1% {\n    transform: translateX(42px) translateY(42px) rotate(-180deg);\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg);\n  } 75% {\n    transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n    -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n  } 100% {\n    transform: rotate(-360deg);\n    -webkit-transform: rotate(-360deg);\n  }\n"]);return We=function(){return e},e}var Ue,Pe=function(){return r.createElement(Xe,null,r.createElement(He,null))},He=function(){return r.createElement(Je,null,r.createElement("div",{className:"cube1"}),r.createElement("div",{className:"cube2"}))},Me=Object(E.d)(We()),Je=Object(E.b)("div")(Le(),Me,Me),Xe=Object(E.b)("div")(Fe());!function(e){e.FETCH_REQUEST="@@wallets/FETCH_DATA_REQUEST",e.FETCH_SUCCESS="@@wallets/FETCH_DATA_SUCCESS",e.FETCH_ERROR="@@wallets/FETCH_DATA_ERROR",e.ADD_WALLET="@@wallets/ADD_WALLET",e.SET_SENDING_TX_DATA="@@wallets/SET_SENDING_TX_DATA"}(Ue||(Ue={}));var Qe=function(){return Object(Ce.action)(Ue.FETCH_REQUEST)},Ge=function(e){return Object(Ce.action)(Ue.FETCH_SUCCESS,e)},qe=function(e){return Object(Ce.action)(Ue.FETCH_ERROR,e)},Be=function(e){return Object(Ce.action)(Ue.SET_SENDING_TX_DATA,e)},$e=Object(E.b)("td")({maxWidth:"20vw",overflow:"hidden",textOverflow:"ellipsis"}),Ye=Object(E.b)("table")({borderCollapse:"collapse",borderSpacing:0,td:{color:"#2e3d3f",padding:"1rem .5rem"},th:{color:"#457b9d",padding:".5rem"},tr:{borderBottom:"1px solid #b2bcb9"},width:"100%"}),Ve=function(e){var n,t=e.wallet;return t.txs?"eth"===t.blockchain?(n=t.txs,r.createElement(Ye,null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Date"),r.createElement("th",null,"TxHash"),r.createElement("th",null,"Address"),r.createElement("th",null,"Value"))),r.createElement("tbody",null,n.map(function(e,n){return r.createElement("tr",{key:n},r.createElement("td",null,new Date(1e3*e.timeStamp).toLocaleString()),r.createElement($e,null,r.createElement("a",{target:"_blank",href:"".concat("https://ropsten.etherscan.io/tx","/").concat(e.hash)},e.hash)),r.createElement($e,null,e.from),r.createElement("td",null,e.value))})))):"eos"===t.blockchain?function(e){return r.createElement(Ye,null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Date"),r.createElement("th",null,"Type"),r.createElement("th",null,"Act"),r.createElement("th",null,"Value"))),r.createElement("tbody",null,e.map(function(e,n){return r.createElement("tr",{key:n},r.createElement("td",null,new Date(e.createdAt).toLocaleString()),r.createElement("td",null,e.act.name),r.createElement("td",null,"transfer"===e.act.name&&"".concat(e.act.data.from," -> ").concat(e.act.data.to),"delegatebw"===e.act.name&&"".concat(e.act.data.from),"buyrambytes"===e.act.name&&"".concat(e.act.data.payer)),r.createElement("td",null,"transfer"===e.act.name&&"".concat(e.act.data.quantity),"delegatebw"===e.act.name&&r.createElement(r.Fragment,null,r.createElement("span",null,"CPU ".concat(e.act.data.stake_cpu_quantity)),r.createElement("br",null),r.createElement("span",null,"RAM ".concat(e.act.data.stake_net_quantity))),"buyrambytes"===e.act.name&&"".concat(e.act.data.bytes," bytes")))})))}(t.txs):r.createElement("div",null,"hi"):r.createElement("div",null)},Ke=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.wallet;(0,e.addWallet)(n)}},{key:"render",value:function(){var e=this.props,n=e.wallet,t=e.loading;return r.createElement(r.Fragment,null,r.createElement(k,null,r.createElement(O,null,r.createElement(k,{style:{flexBasis:"15rem",marginRight:"2rem"}},r.createElement(S.a,{to:"/wallets/".concat(n.address,"/tx/create")},r.createElement(D,null,"Create New Tx")),r.createElement(S.a,{to:"/wallets/".concat(n.address,"/contract/create")},r.createElement(D,null,"Call Contract"))),r.createElement(k,null,r.createElement(v,null,n.blockchain," Wallet"),r.createElement(w,null,r.createElement(en,null,n.address)))),r.createElement(A,null),r.createElement(Ve,{wallet:n}),t&&r.createElement(Pe,null)))}}]),n}(r.Component),Ze=Object(d.connect)(function(e){var n=e.wallets;return{loading:n.loading,wallet:n.item}},function(e){return{addWallet:function(n){return e(function(e){return Object(Ce.action)(Ue.ADD_WALLET,e)}(n))}}})(Ke),en=Object(E.b)("div")({fontSize:".8rem",lineHeight:"1.5rem"}),nn=t(25),tn=Object(d.connect)(function(e){return{wallet:e.wallets.item}},function(e){return{createTx:function(n){return e(Te(n))}}})(function(e){var n=e.wallet,t=e.createTx;return r.createElement(r.Fragment,null,r.createElement(O,null,r.createElement(v,null,"Send ",n.blockchain),r.createElement(_,null)),r.createElement(A,null),r.createElement(nn.c,{initialValues:{to:"",gasPrice:3,data:"",amount:0},onSubmit:function(e){return t(e)},render:function(e){return r.createElement(nn.b,null,r.createElement(k,null,r.createElement(F,null,"To:"),r.createElement(nn.a,{name:"to",render:function(e){var n=e.field;return e.form,r.createElement(z,Object.assign({type:"text",placeholder:"Address"},n))}}),r.createElement(rn,null,r.createElement(k,null,r.createElement(F,null,"Enter amount:"),r.createElement(O,null,r.createElement(U,{label:n.blockchain},r.createElement(nn.a,{name:"amount",render:function(e){var n=e.field;return e.form,r.createElement(z,Object.assign({type:"number",min:"0",step:1e-18.toFixed(20)},n))}})),r.createElement(U,{label:"usd"},r.createElement(nn.a,{name:"amount",render:function(e){var n=e.field;return e.form,r.createElement(z,{type:"number",readOnly:!0,step:1e-18.toFixed(20),value:n.value})}}))))),r.createElement(rn,null,r.createElement(k,null,r.createElement(F,null,"Description:"),r.createElement(nn.a,{name:"data",render:function(e){var n=e.field;return e.form,r.createElement(P,n)}}))),r.createElement(rn,null,r.createElement(k,null,r.createElement(nn.a,{name:"gasPrice",render:function(e){var n=e.field;return e.form,r.createElement(r.Fragment,null,r.createElement(F,null,"Gas price ",n.value," GWEI"),r.createElement(z,Object.assign({type:"range",min:"1",max:"7"},n)))}}),r.createElement(O,null,r.createElement("span",null,"gweiPrice"),r.createElement("span",null," ","< awaitTime min")))),r.createElement(D,{type:"submit"},"Continue")))}}))}),rn=Object(E.b)(O)({margin:"1rem 0"}),an=Object(d.connect)(function(e){return{wallet:e.wallets.item}},function(e){return{createTx:function(n){return e(Te(n))}}})(function(e){var n=e.wallet,t=e.createTx;return r.createElement(r.Fragment,null,r.createElement(O,null,r.createElement(v,null,"Send ",n.blockchain),r.createElement(_,null)),r.createElement(A,null),r.createElement(nn.c,{initialValues:{to:"",memo:"",amount:0},onSubmit:function(e){return t(e)},render:function(e){return r.createElement(nn.b,null,r.createElement(k,null,r.createElement(F,null,"To:"),r.createElement(nn.a,{name:"to",render:function(e){var n=e.field;return e.form,r.createElement(z,Object.assign({type:"text",placeholder:"Address"},n))}}),r.createElement(cn,null,r.createElement(k,null,r.createElement(F,null,"Enter amount:"),r.createElement(O,null,r.createElement(U,{label:n.blockchain},r.createElement(nn.a,{name:"amount",render:function(e){var n=e.field;return e.form,r.createElement(z,Object.assign({type:"number",min:"0",step:1e-4.toFixed(4)},n))}})),r.createElement(U,{label:"usd"},r.createElement(nn.a,{name:"amount",render:function(e){var n=e.field;return e.form,r.createElement(z,{type:"number",readOnly:!0,step:1e-4.toFixed(4),value:n.value})}}))))),r.createElement(cn,null,r.createElement(k,null,r.createElement(F,null,"Description:"),r.createElement(nn.a,{name:"memo",render:function(e){var n=e.field;return e.form,r.createElement(P,n)}}))),r.createElement(D,{type:"submit"},"Continue")))}}))}),cn=Object(E.b)(O)({margin:"1rem 0"}),on=Object(d.connect)(function(e){return{wallet:e.wallets.item}},null)(function(e){var n=e.wallet;return r.createElement(r.Fragment,null,"eth"===n.blockchain&&r.createElement(tn,null),"eos"===n.blockchain&&r.createElement(an,null))}),sn=Object(d.connect)(function(e){var n=e.wallets;return{signTx:n.sendingTxData.signTx,wallet:n.item}},function(e){return{sendTx:function(n,t){return e(_e(n,t))}}})(function(e){var n=e.signTx,t=e.sendTx,a=e.wallet;return r.createElement(r.Fragment,null,r.createElement(Q,{title:"Sign Transaction By Mobile",value:n||"",onScan:function(e){return t(e,a)}}))});function ln(){var e=Object(x.a)(["\n  &:after {\n    content: ' .';\n    animation: dots 1s steps(5, end) infinite;\n  }\n\n  @keyframes dots {\n    0%,\n    20% {\n      color: rgba(0, 0, 0, 0);\n      text-shadow: 0.25em 0 0 rgba(0, 0, 0, 0), 0.5em 0 0 rgba(0, 0, 0, 0);\n    }\n    40% {\n      color: black;\n      text-shadow: 0.25em 0 0 rgba(0, 0, 0, 0), 0.5em 0 0 rgba(0, 0, 0, 0);\n    }\n    60% {\n      text-shadow: 0.25em 0 0 black, 0.5em 0 0 rgba(0, 0, 0, 0);\n    }\n    80%,\n    100% {\n      text-shadow: 0.25em 0 0 black, 0.5em 0 0 black;\n    }\n  }\n"]);return ln=function(){return e},e}var un=Object(d.connect)(function(e){return{status:e.webrtc.status}},function(e){return{}})(function(e){var n=e.status;return r.createElement(r.Fragment,null,n,r.createElement(O,null,r.createElement(v,null,"Tx sent result"),r.createElement(_,null)),r.createElement(A,null),r.createElement(mn,null,"Status : ",n))}),mn=Object(E.b)(w)(ln()),dn=Object(d.connect)(function(e){var n=e.wallets;return{sendingData:n.sendingTxData,wallet:n.item}})(function(e){var n=e.sendingData,t=n.formData,a=n.hash,c=n.error,o=e.wallet;return r.createElement(r.Fragment,null,r.createElement(O,null,r.createElement(v,null,"Tx sent result"),r.createElement(_,null)),r.createElement(A,null),c?r.createElement(w,null,"Error : ",c):r.createElement("div",null,r.createElement(w,null,"To : ",t.to),r.createElement("a",{target:"_blank",href:function(e,n){switch(e){case"eth":return"https://ropsten.etherscan.io/tx/".concat(n);case"eos":return"https://jungle.eospark.com/tx/".concat(n);default:return""}}(o.blockchain,a)},a)))}),fn=(Object(E.b)("main")({alignItems:"center",background:"#f1faee",display:"flex",justifyContent:"center",minHeight:"calc(100vh - 8rem - 4vh)",width:"100vw"}),function(){return r.createElement("div",null,r.createElement(p.a,null,r.createElement(ee,{exact:!0,path:"/",component:Ie}),">",r.createElement(ee,{path:"/login",component:De}),r.createElement(le,null,r.createElement(h.a,{exact:!0,path:"/wallets/:id",component:Ze}),r.createElement(fe,{path:"/wallets/:id/tx/create",component:on}),r.createElement(fe,{path:"/wallets/:id/tx/sign",component:sn}),r.createElement(fe,{path:"/tx/:id",component:dn}),r.createElement(fe,{path:"/status",component:un}))))}),bn={colors:{background:"#000000",body:"#2e2e2c",black:"#000000",white:"#2e2e2c"},fontSizes:{h1:"2.441rem",h2:"1.953rem",h3:"1.563rem",h4:"1.25rem"},breakpoints:{xs:"0px",sm:"576px",md:"768px",lg:"992px",xl:"1200px"},widths:{md:"720px",lg:"960px",xl:"1140px"}};function pn(){var e=Object(x.a)(["\n  /*! modern-normalize | MIT License | https://github.com/sindresorhus/modern-normalize */\n  /* Document\n    ========================================================================== */\n  /**\n  * Use a better box model (opinionated).\n  */\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *::before,\n  *::after {\n    box-sizing: inherit;\n  }\n  /**\n  * Use a more readable tab size (opinionated).\n  */\n  :root {\n    -moz-tab-size: 4;\n    tab-size: 4;\n  }\n  /**\n  * Correct the line height in all browsers.\n  */\n  html {\n    line-height: 1.15;\n  }\n  /* Sections\n    ========================================================================== */\n  /**\n  * Remove the margin in all browsers.\n  */\n  body {\n    margin: 0;\n  }\n  /**\n  * Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n  */\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\n      Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\n      'Segoe UI Symbol';\n  }\n  /**\n  * Correct the font size and margin on `h1` elements within `section` and\n  * `article` contexts in Chrome, Firefox, and Safari.\n  */\n  h1 {\n    font-size: 2em;\n    margin: 0.67em 0;\n  }\n  /* Grouping content\n    ========================================================================== */\n  /**\n  * Add the correct height in Firefox.\n  */\n  hr {\n    height: 0;\n  }\n  /* Text-level semantics\n    ========================================================================== */\n  /**\n  * Add the correct text decoration in Chrome, Edge, and Safari.\n  */\n  abbr[title] {\n    text-decoration: underline dotted;\n  }\n  /**\n  * Add the correct font weight in Chrome, Edge, and Safari.\n  */\n  b,\n  strong {\n    font-weight: bolder;\n  }\n  /**\n  * 1. Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n  * 2. Correct the odd `em` font sizing in all browsers.\n  */\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Courier,\n      monospace; /* 1 */\n    font-size: 1em; /* 2 */\n  }\n  /**\n  * Add the correct font size in all browsers.\n  */\n  small {\n    font-size: 80%;\n  }\n  /**\n  * Prevent `sub` and `sup` elements from affecting the line height in\n  * all browsers.\n  */\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  /* Forms\n    ========================================================================== */\n  /**\n  * 1. Change the font styles in all browsers.\n  * 2. Remove the margin in Firefox and Safari.\n  */\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit; /* 1 */\n    font-size: 100%; /* 1 */\n    line-height: 1.15; /* 1 */\n    margin: 0; /* 2 */\n  }\n  /**\n  * Remove the inheritance of text transform in Edge and Firefox.\n  * 1. Remove the inheritance of text transform in Firefox.\n  */\n  button,\n  select {\n    /* 1 */\n    text-transform: none;\n  }\n  /**\n  * Correct the inability to style clickable types in iOS and Safari.\n  */\n  button,\n  [type='button'],\n  [type='reset'],\n  [type='submit'] {\n    -webkit-appearance: button;\n  }\n  /**\n  * Remove the inner border and padding in Firefox.\n  */\n  button::-moz-focus-inner,\n  [type='button']::-moz-focus-inner,\n  [type='reset']::-moz-focus-inner,\n  [type='submit']::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n  /**\n  * Restore the focus styles unset by the previous rule.\n  */\n  button:-moz-focusring,\n  [type='button']:-moz-focusring,\n  [type='reset']:-moz-focusring,\n  [type='submit']:-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n  /**\n  * Correct the padding in Firefox.\n  */\n  fieldset {\n    padding: 0.35em 0.75em 0.625em;\n  }\n  /**\n  * Remove the padding so developers are not caught out when they zero out\n  *    `fieldset` elements in all browsers.\n  */\n  legend {\n    padding: 0;\n  }\n  /**\n  * Add the correct vertical alignment in Chrome and Firefox.\n  */\n  progress {\n    vertical-align: baseline;\n  }\n  /**\n  * Correct the cursor style of increment and decrement buttons in Chrome.\n  */\n  [type='number']::-webkit-inner-spin-button,\n  [type='number']::-webkit-outer-spin-button {\n    height: auto;\n  }\n  /**\n  * 1. Correct the odd appearance in Chrome and Safari.\n  * 2. Correct the outline style in Safari.\n  */\n  [type='search'] {\n    -webkit-appearance: textfield; /* 1 */\n    outline-offset: -2px; /* 2 */\n  }\n  /**\n  * Remove the inner padding in Chrome and Safari on macOS.\n  */\n  [type='search']::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  /**\n  * 1. Correct the inability to style clickable types in iOS and Safari.\n  * 2. Change font properties to `inherit` in Safari.\n  */\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button; /* 1 */\n    font: inherit; /* 2 */\n  }\n  /* Interactive\n    ========================================================================== */\n  /*\n  * Add the correct display in Edge and Firefox.\n  */\n  details {\n    display: block;\n  }\n  /*\n  * Add the correct display in all browsers.\n  */\n  summary {\n    display: list-item;\n  }\n"],["\n  /*! modern-normalize | MIT License | https://github.com/sindresorhus/modern-normalize */\n  /* Document\n    ========================================================================== */\n  /**\n  * Use a better box model (opinionated).\n  */\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *::before,\n  *::after {\n    box-sizing: inherit;\n  }\n  /**\n  * Use a more readable tab size (opinionated).\n  */\n  :root {\n    -moz-tab-size: 4;\n    tab-size: 4;\n  }\n  /**\n  * Correct the line height in all browsers.\n  */\n  html {\n    line-height: 1.15;\n  }\n  /* Sections\n    ========================================================================== */\n  /**\n  * Remove the margin in all browsers.\n  */\n  body {\n    margin: 0;\n  }\n  /**\n  * Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n  */\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\n      Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\n      'Segoe UI Symbol';\n  }\n  /**\n  * Correct the font size and margin on \\`h1\\` elements within \\`section\\` and\n  * \\`article\\` contexts in Chrome, Firefox, and Safari.\n  */\n  h1 {\n    font-size: 2em;\n    margin: 0.67em 0;\n  }\n  /* Grouping content\n    ========================================================================== */\n  /**\n  * Add the correct height in Firefox.\n  */\n  hr {\n    height: 0;\n  }\n  /* Text-level semantics\n    ========================================================================== */\n  /**\n  * Add the correct text decoration in Chrome, Edge, and Safari.\n  */\n  abbr[title] {\n    text-decoration: underline dotted;\n  }\n  /**\n  * Add the correct font weight in Chrome, Edge, and Safari.\n  */\n  b,\n  strong {\n    font-weight: bolder;\n  }\n  /**\n  * 1. Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n  * 2. Correct the odd \\`em\\` font sizing in all browsers.\n  */\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Courier,\n      monospace; /* 1 */\n    font-size: 1em; /* 2 */\n  }\n  /**\n  * Add the correct font size in all browsers.\n  */\n  small {\n    font-size: 80%;\n  }\n  /**\n  * Prevent \\`sub\\` and \\`sup\\` elements from affecting the line height in\n  * all browsers.\n  */\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  /* Forms\n    ========================================================================== */\n  /**\n  * 1. Change the font styles in all browsers.\n  * 2. Remove the margin in Firefox and Safari.\n  */\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit; /* 1 */\n    font-size: 100%; /* 1 */\n    line-height: 1.15; /* 1 */\n    margin: 0; /* 2 */\n  }\n  /**\n  * Remove the inheritance of text transform in Edge and Firefox.\n  * 1. Remove the inheritance of text transform in Firefox.\n  */\n  button,\n  select {\n    /* 1 */\n    text-transform: none;\n  }\n  /**\n  * Correct the inability to style clickable types in iOS and Safari.\n  */\n  button,\n  [type='button'],\n  [type='reset'],\n  [type='submit'] {\n    -webkit-appearance: button;\n  }\n  /**\n  * Remove the inner border and padding in Firefox.\n  */\n  button::-moz-focus-inner,\n  [type='button']::-moz-focus-inner,\n  [type='reset']::-moz-focus-inner,\n  [type='submit']::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n  /**\n  * Restore the focus styles unset by the previous rule.\n  */\n  button:-moz-focusring,\n  [type='button']:-moz-focusring,\n  [type='reset']:-moz-focusring,\n  [type='submit']:-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n  /**\n  * Correct the padding in Firefox.\n  */\n  fieldset {\n    padding: 0.35em 0.75em 0.625em;\n  }\n  /**\n  * Remove the padding so developers are not caught out when they zero out\n  *    \\`fieldset\\` elements in all browsers.\n  */\n  legend {\n    padding: 0;\n  }\n  /**\n  * Add the correct vertical alignment in Chrome and Firefox.\n  */\n  progress {\n    vertical-align: baseline;\n  }\n  /**\n  * Correct the cursor style of increment and decrement buttons in Chrome.\n  */\n  [type='number']::-webkit-inner-spin-button,\n  [type='number']::-webkit-outer-spin-button {\n    height: auto;\n  }\n  /**\n  * 1. Correct the odd appearance in Chrome and Safari.\n  * 2. Correct the outline style in Safari.\n  */\n  [type='search'] {\n    -webkit-appearance: textfield; /* 1 */\n    outline-offset: -2px; /* 2 */\n  }\n  /**\n  * Remove the inner padding in Chrome and Safari on macOS.\n  */\n  [type='search']::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  /**\n  * 1. Correct the inability to style clickable types in iOS and Safari.\n  * 2. Change font properties to \\`inherit\\` in Safari.\n  */\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button; /* 1 */\n    font: inherit; /* 2 */\n  }\n  /* Interactive\n    ========================================================================== */\n  /*\n  * Add the correct display in Edge and Firefox.\n  */\n  details {\n    display: block;\n  }\n  /*\n  * Add the correct display in all browsers.\n  */\n  summary {\n    display: list-item;\n  }\n"]);return pn=function(){return e},e}var hn=Object(E.a)(pn());function gn(){var e=Object(x.a)(["\n  html,\n  body {\n    font-family: 'Lato', 'Arial', sans-serif;\n    margin: 0;\n  }\n  #root {\n    height: 100%;\n  }\n"]);return gn=function(){return e},e}var En=Object(E.a)(gn());function xn(){var e=Object(x.a)(["\n  ","\n  ","\n"]);return xn=function(){return e},e}Object(E.c)(xn(),hn,En);var On=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.props,n=e.store,t=e.history;return r.createElement(d.Provider,{store:n},r.createElement(f.ConnectedRouter,{history:t},r.createElement(b.a,{theme:bn},r.createElement(fn,null))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vn=t(48),wn=t(32),jn=t(235),yn=t(5);function kn(e,n,t,r){return fetch(n+t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify(r)}).then(function(e){return e.json()})}var Sn=new xe.a,Cn=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_ENDPOINT||"https://api-ropsten.etherscan.io";function Tn(e){return _n.apply(this,arguments)}function _n(){return(_n=Object(ge.a)(pe.a.mark(function e(n){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn.eth.getTransactionCount(n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Nn(){return(Nn=Object(ge.a)(pe.a.mark(function e(n){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn.eth.sendSignedTransaction(n));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function An(e){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(ge.a)(pe.a.mark(function e(n){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn("get",Cn,"/api?module=account&action=txlist&address=".concat(n,"&startblock=0&endblock=99999999&page=1&offset=10&sort=asc&apikey=YourApiKeyToken")));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Dn(e){return In.apply(this,arguments)}function In(){return(In=Object(ge.a)(pe.a.mark(function e(n){var t,r;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(n);case 2:return t=e.sent,e.next=5,Tn(n);case 5:return r=e.sent,e.abrupt("return",{txs:t.result,nonce:r});case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}Sn.setProvider(new xe.a.providers.WebsocketProvider("wss://ropsten.infura.io/ws"));var zn=ve()({httpEndpoint:"http://jungle2.cryptolions.io:80",chainId:"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"}),Fn=function(){var e=Object(ge.a)(pe.a.mark(function e(n){var t;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zn.pushTransaction(n);case 2:return t=e.sent,console.log("txHash:",t),e.abrupt("return",t.transaction_id);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),Ln=function(){var e=Object(ge.a)(pe.a.mark(function e(n){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("eth"!==n.blockchain){e.next=2;break}return e.abrupt("return",Dn(n.address));case 2:if("eos"!==n.blockchain){e.next=4;break}return e.abrupt("return",(t=n.address,kn("GET","https://junglehistory.cryptolions.io:4433/v1","/history/get_actions/".concat(t,"?limit=100&skip=0"))).then(function(e){return{txs:e.actions}}));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}var t},e,this)}));return function(n){return e.apply(this,arguments)}}(),Wn=pe.a.mark(Hn),Un=pe.a.mark(Mn),Pn=pe.a.mark(Jn);function Hn(e){var n,t;return pe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=e.payload,r.next=4,Object(yn.f)(Qe());case 4:return r.next=6,Object(yn.b)(Ln,n);case 6:if(t=r.sent,n=Object(he.a)({},n,t),!t.error){r.next=13;break}return r.next=11,Object(yn.f)(qe(t.error));case 11:r.next=15;break;case 13:return r.next=15,Object(yn.f)(Ge(n));case 15:r.next=26;break;case 17:if(r.prev=17,r.t0=r.catch(0),!(r.t0 instanceof Error)){r.next=24;break}return r.next=22,Object(yn.f)(qe(r.t0.stack));case 22:r.next=26;break;case 24:return r.next=26,Object(yn.f)(qe("An unknown error occured."));case 26:case"end":return r.stop()}},Wn,this,[[0,17]])}function Mn(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.i)(Ue.ADD_WALLET,Hn);case 2:case"end":return e.stop()}},Un,this)}function Jn(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.a)([Object(yn.e)(Mn)]);case 2:case"end":return e.stop()}},Pn,this)}var Xn,Qn=Jn,Gn={item:{},items:[],sendingTxData:{signTx:"",hash:"",formData:{},error:""},errors:void 0,loading:!1},qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ue.FETCH_REQUEST:return Object(he.a)({},e,{loading:!0});case Ue.FETCH_SUCCESS:return Object(he.a)({},e,{loading:!1,item:n.payload});case Ue.FETCH_ERROR:return Object(he.a)({},e,{loading:!1,errors:n.payload});case Ue.ADD_WALLET:return Object(he.a)({},e,{item:n.payload});case Ue.SET_SENDING_TX_DATA:return Object(he.a)({},e,{sendingTxData:Object(he.a)({},e.sendingTxData,n.payload)});default:return e}};!function(e){e.AUTH_SUCCESS="@@auth/AUTH_SUCCESS",e.AUTH_ERROR="@@auth/AUTH_ERROR"}(Xn||(Xn={}));var Bn={isAuth:!1},$n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn;switch((arguments.length>1?arguments[1]:void 0).type){case Xn.AUTH_SUCCESS:return Object(he.a)({},e,{isAuth:!0});case Xn.AUTH_ERROR:return Object(he.a)({},e,{isAuth:!1});default:return e}};function Yn(e){var n=e.replace(/^([^|]*)\|(.*\D.*)\|(.*)$/,'$1|"$2"|$3').replace(/^([^|]+)\|([^|]*)\|(.*)$/,'{"method":"$1","id":$2,"params":$3}').replace(/^\|([^|]*)\|(.*)$/,'{"id":$1,"result":$2}');return Kn(n)}var Vn,Kn=function(e){try{return JSON.parse(e)}catch(n){return Error(n)}},Zn=function(e,n){switch(console.log(e,n),n.blockchain){case"eth":return function(e){return Nn.apply(this,arguments)}(e);case"eos":return Fn(e);default:return null}},et=function(){return Object(Ce.action)(Xn.AUTH_SUCCESS)};!function(e){e.CONNECTION_OPEN="@@Webrtc/CONNECTION_OPEN",e.CONNECTION_CLOSE="@@Webrtc/CONNECTION_CLOSE",e.SET_CONNECTION_SID="@@Webrtc/SET_CONNECTION_SID",e.SET_STATUS="@@Webrtc/SET_STATUS"}(Vn||(Vn={}));var nt=function(){return Object(Ce.action)(Vn.CONNECTION_OPEN)},tt=function(){return Object(Ce.action)(Vn.CONNECTION_CLOSE)},rt=function(e){return Object(Ce.action)(Vn.SET_STATUS,e)},at=pe.a.mark(mt),ct=pe.a.mark(dt),ot=pe.a.mark(ft),it=pe.a.mark(bt),st=pe.a.mark(pt),lt=pe.a.mark(ht),ut=pe.a.mark(gt);function mt(e){var n,t,r;return pe.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=Yn(e.payload),t=n.result,r=t[0],a.next=5,Object(yn.f)(et());case 5:return a.next=7,Object(yn.f)(Ge(r));case 7:return a.next=9,Object(yn.f)(Object(f.push)("/wallets/".concat(r.address)));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log("handleLogin error",a.t0);case 14:case"end":return a.stop()}},at,this,[[0,11]])}function dt(e){var n,t,r,a,c,o;return pe.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(yn.g)(function(e){return e.wallets.item});case 2:return n=i.sent,i.next=5,Object(yn.g)(function(e){return e.webrtc});case 5:return t=i.sent,r=t.connected,a=t.rtc,i.prev=8,c=e.payload,i.next=12,Se(c,{blockchain:n.blockchain,chainId:n.chainId,address:n.address,nonce:n.nonce});case 12:return o=i.sent,console.log(o),i.next=16,Object(yn.f)(Be({signTx:o,formData:c,error:"",hash:""}));case 16:if(!r){i.next=22;break}return i.next=19,Object(yn.a)([Object(yn.f)(rt("Verification")),Object(yn.f)(Object(f.push)("/status"))]);case 19:a.dataChannel.send(o),i.next=24;break;case 22:return i.next=24,Object(yn.f)(Object(f.push)("/wallets/".concat(n.address,"/tx/sign")));case 24:i.next=29;break;case 26:i.prev=26,i.t0=i.catch(8),console.log("handleCreateTx error",i.t0);case 29:case"end":return i.stop()}},ct,this,[[8,26]])}function ft(e){var n,t,r;return pe.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=Yn(e.payload.tx),t=n.result,a.next=4,Zn(t,e.payload.wallet);case 4:return r=a.sent,a.next=7,Object(yn.a)([Object(yn.f)(Be({hash:r})),Object(yn.f)(Object(f.push)("/tx/".concat(r)))]);case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(yn.a)([Object(yn.f)(Be({error:a.t0.message})),Object(yn.f)(Object(f.push)("/tx/error"))]);case 13:console.log("handleSendTx error",a.t0);case 14:case"end":return a.stop()}},ot,this,[[0,9]])}function bt(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.i)(ye.SEND_TX,ft);case 2:case"end":return e.stop()}},it,this)}function pt(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.i)(ye.CREATE_TX,dt);case 2:case"end":return e.stop()}},st,this)}function ht(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.i)(ye.LOGIN,mt);case 2:case"end":return e.stop()}},lt,this)}function gt(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.a)([Object(yn.e)(ht),Object(yn.e)(pt),Object(yn.e)(bt)]);case 2:case"end":return e.stop()}},ut,this)}var Et,xt=gt,Ot={qrcodeData:""},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ye.SET_RTC_SID:return Object(he.a)({},e,{qrcodeData:n.payload});default:return e}},wt="wss://duxi.io/shake";!function(e){e[e.webrtcLogin=1]="webrtcLogin",e[e.getWalletList=2]="getWalletList",e[e.signTransferTx=3]="signTransferTx",e[e.signContractCall=4]="signContractCall"}(Et||(Et={}));var jt=pe.a.mark(_t),yt=pe.a.mark(Nt),kt=function(e){return JSON.stringify({jsonrpc:"2.0",id:1,method:"offer",params:{offer:e}})},St=function(e){return JSON.stringify({jsonrpc:"2.0",id:2,method:"ice",params:{ice:e}})},Ct=function(e){return Object(wn.c)(function(n){return e.addEventListener("open",n),e.addEventListener("error",function(e){return n(e)}),function(){return e.removeEventListener("open",n)}})},Tt=function(e){return Object(wn.c)(function(n){return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}})};function _t(e,n,t){var r;return pe.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=function(n){return e.send(St(n))},n.candidates.map(r),n.on("ice",r),a.next=5,Object(yn.b)(n.pushAnswer,{type:"answer",sdp:t});case 5:return a.next=7,Object(yn.b)(n.waitConnection);case 7:return n.dataChannel.send(ke()),a.next=10,Object(yn.f)(nt());case 10:return a.abrupt("return",e.close());case 11:case"end":return a.stop()}},jt,this)}function Nt(){var e,n,t,r,a,c,o,i,s,l,u,m;return pe.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(yn.g)(function(e){return e.webrtc.rtc});case 2:return e=d.sent,d.next=5,Object(yn.b)(e.createOffer);case 5:return n=d.sent,t=new WebSocket(wt),r=Ct(t),a=Tt(t),d.next=11,Object(yn.h)(r);case 11:t.send(kt(n.sdp));case 12:return d.prev=13,d.next=16,Object(yn.h)(a);case 16:if(c=d.sent,o=c.data,i=JSON.parse(o.toString()),s=i.id,l=i.method,u=i.result,m=i.params,1!==s){d.next=22;break}return d.next=22,Object(yn.f)(Ae(At(u.sid)));case 22:if("ice"!==l){d.next=25;break}return d.next=25,Object(yn.b)(e.pushIceCandidate,m.ice);case 25:if("answer"!==l){d.next=29;break}return d.next=28,Object(yn.b)(_t,t,e,m.answer);case 28:return d.abrupt("return",d.sent);case 29:d.next=34;break;case 31:d.prev=31,d.t0=d.catch(13),console.log(d.t0);case 34:return d.prev=34,d.next=37,Object(yn.d)();case 37:if(!d.sent){d.next=41;break}r.close(),a.close(),console.log("ws connection closed");case 41:return d.finish(34);case 42:d.next=12;break;case 44:case"end":return d.stop()}},yt,this,[[13,31,34,42]])}var At=function(e){var n={sid:e,url:wt};return"webrtcLogin|1|".concat(JSON.stringify(n))},Rt=pe.a.mark(Wt),Dt=pe.a.mark(Ut),It=pe.a.mark(Pt),zt=pe.a.mark(Ht),Ft=pe.a.mark(Mt);function Lt(e){return Object(wn.c)(function(n){e.onmessage=function(e){return n(e.data)};return function(){e.close()}})}function Wt(){var e,n,t,r,a,c;return pe.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(yn.g)(function(e){return e.webrtc.rtc});case 2:return e=o.sent,o.next=5,Object(yn.g)(function(e){return e.wallets.item});case 5:return n=o.sent,o.next=8,Object(yn.b)(Lt,e.dataChannel);case 8:t=o.sent;case 9:return o.next=12,Object(yn.h)(t);case 12:r=o.sent,a=Yn(r),c=a.id,o.t0=c,o.next=o.t0===Et.getWalletList?17:o.t0===Et.signTransferTx?20:25;break;case 17:return o.next=19,Object(yn.f)(Ne(r));case 19:return o.abrupt("break",26);case 20:return o.next=22,Object(yn.f)(rt("Sending"));case 22:return o.next=24,Object(yn.f)(_e(r,n));case 24:case 25:return o.abrupt("break",26);case 26:o.next=9;break;case 28:case"end":return o.stop()}},Rt,this)}function Ut(){var e;return pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(yn.g)(function(e){return e.webrtc.rtc});case 2:e=n.sent;case 3:return n.next=6,Object(wn.b)(3e3);case 6:if("closing"!==e.dataChannel.readyState){n.next=9;break}return n.next=9,Object(yn.f)(tt());case 9:n.next=3;break;case 11:case"end":return n.stop()}},Dt,this)}function Pt(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wn.d)(Vn.CONNECTION_OPEN,Ut);case 2:return e.next=4,Object(wn.d)(Vn.CONNECTION_OPEN,Ut);case 4:case"end":return e.stop()}},It,this)}function Ht(){var e;return pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(yn.e)(Nt);case 2:return e=n.sent,n.next=5,Object(wn.d)(Vn.CONNECTION_OPEN,pe.a.mark(function n(){return pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(yn.c)(e);case 2:case"end":return n.stop()}},n,this)}));case 5:case"end":return n.stop()}},zt,this)}function Mt(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.a)([Object(yn.e)(Ht),Object(yn.e)(Wt),Object(yn.e)(Pt)]);case 2:case"end":return e.stop()}},Ft,this)}var Jt=Mt,Xt=function(e){function n(e){var t;return Object(i.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this))).name=e,t.rpc=new RTCPeerConnection,t.candidates=[],t.connected=!1,t.tag="",t.onIceCandidate=function(e){console.log("".concat(t.tag,"onIceCandidate: ").concat(JSON.stringify(e.candidate))),e.candidate&&t.candidates.push(e.candidate),t.emit("ice",e.candidate)},t.onDataChannel=function(e){console.log("".concat(t.tag,"onDataChannel: ").concat(JSON.stringify(e.channel))),t.setChannel(e.channel)},t.onDataChannelOpen=function(e){console.log("".concat(t.tag,"onDataChannelOpen: ").concat(e.type)),t.connected=!0,t.emit("connected")},t.onMessage=function(e){console.log("".concat(t.tag).concat(e.type,": ").concat(e.data))},t.setChannel=function(e){t.dataChannel=e,t.dataChannel.onopen=t.onDataChannelOpen,t.dataChannel.onmessage=t.onMessage},t.waitConnection=Object(ge.a)(pe.a.mark(function e(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.connected){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.abrupt("return",new Promise(function(e,n){return t.on("connected",function(){return e()})}));case 3:case"end":return e.stop()}},e,this)})),t.createOffer=Object(ge.a)(pe.a.mark(function e(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat(t.tag,"createOffer")),t.setChannel(t.rpc.createDataChannel("chat")),e.next=4,t.rpc.createOffer();case 4:return t.offer=e.sent,e.next=7,t.rpc.setLocalDescription(t.offer);case 7:return e.abrupt("return",t.offer);case 8:case"end":return e.stop()}},e,this)})),t.pushOffer=function(){var e=Object(ge.a)(pe.a.mark(function e(n){var r;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("".concat(t.tag,"pushOffer: ").concat(JSON.stringify(n))),!t.offer){e.next=3;break}throw"can't push offer to already inited rtc connection!";case 3:return e.next=5,t.rpc.setRemoteDescription(n);case 5:return e.next=7,t.rpc.createAnswer();case 7:return r=e.sent,e.next=10,t.rpc.setLocalDescription(r);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t.pushAnswer=function(){var e=Object(ge.a)(pe.a.mark(function e(n){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat(t.tag,"pushAnswer: ").concat(JSON.stringify(n))),e.next=3,t.rpc.setRemoteDescription(n);case 3:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t.pushIceCandidate=function(){var e=Object(ge.a)(pe.a.mark(function e(n){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.rpc.addIceCandidate(n);case 2:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),e&&(t.tag="[".concat(e,"] ")),t.rpc.onicecandidate=t.onIceCandidate,t.rpc.ondatachannel=t.onDataChannel,t}return Object(m.a)(n,e),n}(t(82).EventEmitter),Qt=t(238);function Gt(e,n,t){return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?"".concat(e,"|").concat(n,"|").concat(JSON.stringify(t)):qt({method:e,id:n,params:t})}function qt(e){return JSON.stringify(function(e){return Object.assign({},e,{jsonrpc:"2.0"})}(e))}var Bt=function(){function e(n,t){var r=this;Object(i.a)(this,e),this.lastOutgoingMsgId=1,this.listeners={},this._callbacksQueue=[],this._messageQueue=[],this.onMessage=function(e){var n=function(e){if(e){if(e.startsWith("{"))return JSON.parse(e);if(/^.*|.*|.*$/.test(e)){var n=e.split("|",3).map(function(e){return e||""}),t=Object(Qt.a)(n,3),r=t[0],a=t[1],c=t[2],o=r.length+a.length+c.length+2;e.length>o&&(c+=e.substr(o));var i=a.match(/^\d+/)?parseInt(a):a,s=JSON.parse(c||"[]");return r?{method:r,id:i,params:s}:{id:i,result:s}}}}(e);if(!n)return console.error("JsonRpc: error parsing data!\n".concat(e));var t=n.id;if(function(e){return"method"in e}(n))r.onRequest(n,function(e,n){return r.send(JSON.stringify(Object(he.a)({id:t,jsonrpc:"2.0"},e?{error:e}:{result:n})))});else if(r.listeners[t]){var a=r.listeners[t];delete r.listeners[t],!function(e){return"error"in e}(n)?a(void 0,n.result):a(n.error,void 0)}},this.send=n,this.onRequest=t}return Object(s.a)(e,[{key:"switchToQueueMode",value:function(){var e=this;this.onRequest=function(n,t){e._callbacksQueue.length?e._callbacksQueue.shift()(n,t):e._messageQueue.push([n,t])}}},{key:"nextMessage",value:function(){var e=Object(ge.a)(pe.a.mark(function e(){var n=this;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._messageQueue.length){e.next=4;break}return e.abrupt("return",Promise.resolve(this._messageQueue.shift()));case 4:return e.abrupt("return",new Promise(function(e,t){return n._callbacksQueue.push(function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e(t)})}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"ping",value:function(){var e=Object(ge.a)(pe.a.mark(function e(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("ping");case 2:if("pong"==e.sent){e.next=5;break}throw"JSON-RPC: unknown ping error!";case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"callRaw",value:function(){var e=Object(ge.a)(pe.a.mark(function e(n,t){var r=this;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("JSON.RAW: ".concat(n,"(").concat(JSON.stringify(t),")")),e.abrupt("return",new Promise(function(e,a){var c=r.getNextMsgId();r.listeners[c]=function(n,t){return n?a(n):e(t)},console.log("outgoing: ".concat(Gt(n,c,t))),r.send(Gt(n,c,t))}));case 2:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}()},{key:"call",value:function(){var e=Object(ge.a)(pe.a.mark(function e(n){var t,r,a,c=arguments;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=c[a];return e.abrupt("return",this.callRaw(n,r));case 2:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()},{key:"getNextMsgId",value:function(){return this.lastOutgoingMsgId++}}]),e}();function $t(){var e=new Xt("webrtc"),n=new Bt(function(n){return e.dataChannel.send(n)},function(e,n){console.log("ignored remote signer request:",e),n(void 0,null)});e.onMessage=function(e){return console.log(e),n.onMessage(e.data.toString())};return{rtc:e,jrpc:n,connected:!1}}var Yt=$t();var Vt={rtc:Yt.rtc,connected:Yt.connected,status:""},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Vn.CONNECTION_OPEN:return Object(he.a)({},e,{connected:!0});case Vn.CONNECTION_CLOSE:return Object(he.a)({},e,{connected:!1});case Vn.SET_STATUS:return Object(he.a)({},e,{status:n.payload});default:return e}},Zt=pe.a.mark(nr),er=function(e){return Object(vn.combineReducers)({wallets:qn,auth:$n,transport:vt,webrtc:Kt,router:Object(f.connectRouter)(e)})};function nr(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yn.a)([Object(yn.e)(Qn),Object(yn.e)(xt),Object(yn.e)(Jt)]);case 2:case"end":return e.stop()}},Zt,this)}var tr,rr=Object(o.a)(),ar=function(e){var n=Object(jn.composeWithDevTools)({}),t=Object(wn.a)(),r=JSON.parse(window.localStorage.getItem("state"))||{};r.webrtc&&delete r.webrtc;var a=Object(vn.createStore)(er(e),r,n(Object(vn.applyMiddleware)(Object(f.routerMiddleware)(e),t)));return t.run(nr),a}(rr);ar.subscribe((tr=ar,function(){window.localStorage.setItem("state",JSON.stringify(tr.getState()))})),c.render(r.createElement(On,{store:ar,history:rr}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[239,2,1]]]);
//# sourceMappingURL=main.65f473ad.chunk.js.map